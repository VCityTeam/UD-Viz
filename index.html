<html>
  <head>
    <title>ud-viz website</title>
    <link rel="stylesheet" href="./style.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <script type="text/javascript">
      // Build html
      const section = document.createElement('section');
      document.body.appendChild(section);

      const panel = document.createElement('div');
      panel.setAttribute('id', 'panel');
      section.appendChild(panel);

      const header = document.createElement('div');
      header.setAttribute('id', 'header');
      panel.appendChild(header);

      const h1 = document.createElement('h1');
      header.appendChild(h1);

      const labelH1 = document.createElement('div');
      labelH1.innerHTML = 'ud-viz';
      h1.appendChild(labelH1);

      const versionLink = document.createElement('a');
      versionLink.setAttribute('id', 'version');
      versionLink.setAttribute('target', '_blank');
      versionLink.setAttribute(
        'href',
        'https://github.com/VCityTeam/UD-Viz/releases'
      );
      versionLink.innerHTML = 'UDVIZ_VERSION';
      h1.appendChild(versionLink);

      const contentWrapper = document.createElement('div');
      contentWrapper.setAttribute('id', 'contentWrapper');
      panel.appendChild(contentWrapper);

      const content = document.createElement('div');
      content.setAttribute('id', 'content');
      contentWrapper.appendChild(content);

      const addToContent = (title, list) => {
        const contentH2 = document.createElement('h2');
        contentH2.innerHTML = title;
        content.appendChild(contentH2);

        const contentUl = document.createElement('ul');
        content.appendChild(contentUl);

        list.forEach((l) => {
          const href = l.href;
          const label = l.label;
          const li = document.createElement('li');
          contentUl.appendChild(li);

          const link = document.createElement('a');
          link.setAttribute('href', href);
          link.innerHTML = label;
          li.appendChild(link);
        });
      };

      addToContent('Learn', [
        {
          href: 'https://github.com/VCityTeam/UD-Viz/blob/master/Doc/Devel/LocalGameTutorial.md',
          label: 'Game tutorial',
        },
      ]);

      addToContent('Community', [
        { href: 'https://projet.liris.cnrs.fr/vcity/', label: 'Website' },
        { href: '../docs/html/index.html', label: 'Documentation' },
      ]);

      addToContent('Code', [
        { href: 'https://github.com/VCityTeam/UD-Viz', label: 'Github' },
        { href: 'https://www.npmjs.com/package/ud-viz', label: 'Npm package' },
      ]);

      const viewer = document.createElement('div');
      viewer.setAttribute('id', 'viewer');
      section.appendChild(viewer);

      const createContainer = function (id) {
        const titleContainer = document.createElement('h1');
        titleContainer.classList.add('projects_section_title');
        titleContainer.innerHTML = id;
        viewer.appendChild(titleContainer);

        const container = document.createElement('div');
        container.setAttribute('id', id);
        container.classList.add('projects');
        viewer.appendChild(container);
      };

      createContainer('SideBarWidget');
      createContainer('Widget');
      createContainer('Game');
      createContainer('Frame3D');
      createContainer('THREEUtil');
      createContainer('GUI');

      const addProjectElement = (name, idParent, href, title, srcImg) => {
        const newProject = document.createElement('a');
        newProject.href = href;
        newProject.title = title;
        newProject.target = '_blank';
        newProject.rel = 'noopener';
        document.getElementById(idParent).appendChild(newProject);

        const newProjectImg = document.createElement('img');
        newProjectImg.src = srcImg;
        newProjectImg.loading = 'lazy';
        newProject.appendChild(newProjectImg);

        const newProjectNameHoverDiv = document.createElement('div');
        newProjectNameHoverDiv.innerHTML = name;
        newProject.appendChild(newProjectNameHoverDiv);
      };

      addProjectElement(
        'SideBarWidget',
        'SideBarWidget',
        './examples/SideBarWidget.html',
        `This example implements a sidebar template implementing widgets. As of today, this includes :
        \n- Temporal            \n- Help & About            \n- Documents            \n- Contribute            \n- Guided tours            \n- Authentication            \n- Documents to validate            \n- Document comments            \n- Geocoding            \n- 3DTiles debug            \n- Camera positioner            \n- Document links`,
        './examples/assets/img/mosaic/SideBarWidget.png'
      );

      addProjectElement(
        'Worldmap',
        'Frame3D',
        './examples/WorldMap.html',
        'This example use IGN basemap to be able to navigate all over the world',
        './examples/assets/img/mosaic/WorldMap.png'
      );

      addProjectElement(
        'Billboard',
        'Frame3D',
        './examples/Billboard.html',
        'This example implements a billboard (ie an embeded html content in a 3D view).',
        './examples/assets/img/mosaic/billboard.png'
      );

      addProjectElement(
        '3DTilesWireframe',
        'Frame3D',
        './examples/3DTilesWireframe.html',
        'This example shows a wireframe of the edges of a 3DTiles',
        './examples/assets/img/mosaic/3DTilesWireframe.png'
      );

      addProjectElement(
        '3DTiles Point Cloud',
        'Frame3D',
        './examples/3DTilesPointCloud.html',
        'This example shows a 3DTiles PointCloud',
        './examples/assets/img/mosaic/3DTilesPointCloud.png'
      );


      addProjectElement(
        'Fit Extent',
        'THREEUtil',
        './examples/FitExtent.html',
        'This example implements the THREEUtil function cameraFitRectangle where rectangle to fit is the itowns extent ',
        './examples/assets/img/mosaic/fit_extent.png'
      );

      addProjectElement(
        'Document Widget',
        'Widget',
        './examples/DocumentWidget.html',
        'In this example you can consult documents in a document browser and search them using keywords and other fields.',
        './examples/assets/img/mosaic/DocumentWidget.png'
      );

      addProjectElement(
        'Geocoding Widget',
        'Widget',
        './examples/GeocodingWidget.html',
        'Geocoding allows a user to navigate in the city by searching addresses or place names.',
        './examples/assets/img/mosaic/GeocodingWidget.png'
      );

      addProjectElement(
        'BaseMap Widget',
        'Widget',
        './examples/BaseMapWidget.html',
        'BaseMap widget allows a user to select which background to use between those set up in the config file.',
        './examples/assets/img/mosaic/BaseMapWidget.png'
      );

      addProjectElement(
        'Camera Positioner Widget',
        'Widget',
        './examples/CameraPositionerWidget.html',
        'The camera positioner is a tool that show the coordinates and the orientation of the camera.',
        './examples/assets/img/mosaic/CameraPositionerWidget.png'
      );

      addProjectElement(
        'Slideshow Widget',
        'Widget',
        './examples/SlideShowWidget.html',
        'The SlideShow allows to display images and videos on a plane geometry.',
        './examples/assets/img/mosaic/SlideShow.png'
      );

      addProjectElement(
        '3DTilesDebug Widget',
        'Widget',
        './examples/Debug3DTilesView.html',
        '3DTiles Debug displays a window which shows various information about 3DTiles objects and city objects.',
        './examples/assets/img/mosaic/3DTilesDebugWidget.png'
      );

      addProjectElement(
        'CityObject Widget',
        'Widget',
        './examples/CityObjectWidget.html',
        'This extensions allows the user to explore city objects and color them according to filters.',
        './examples/assets/img/mosaic/CityObjectWidget.png'
      );

      addProjectElement(
        'LayerChoice Widget',
        'Widget',
        './examples/LayerChoiceWidget.html',
        'This extensions interact with layers',
        './examples/assets/img/mosaic/LayerChoiceWidget.png'
      );

      addProjectElement(
        'Temporal Widget',
        'Widget',
        './examples/TemporalWidget.html',
        'This extensions allows the user to explore city objects and color them according to filters.',
        './examples/assets/img/mosaic/TemporalWidget.png'
      );

      addProjectElement(
        'GeoJSON',
        'Frame3D',
        './examples/GeoJson.html',
        `This example visualizes several GeoJSON datasets (such as bus lines, Velo'v stations, and humidity zones) alongside 3D planar data.`,
        './examples/assets/img/mosaic/GeoJSON.png'
      );

      addProjectElement(
        'SPARQL',
        'Widget',
        './examples/SPARQLWidget.html',
        `This example illustrate the SPARQL Widget`,
        './examples/assets/img/mosaic/SPARQL.png'
      );

      addProjectElement(
        'Avatar Game',
        'Game',
        './examples/AvatarGame.html',
        'This example implements a local mini game illustrating an avatar walking in the city',
        './examples/assets/img/mosaic/AvatarGame.png'
      );

      addProjectElement(
        'Avatar Game with Shader',
        'Game',
        './examples/AvatarGameShader.html',
        'This example implements a local mini game illustrating an avatar walking in the city with collision and shader pass.',
        './examples/assets/img/mosaic/AvatarGameShader.png'
      );

      addProjectElement(
        'Zeppelin Game',
        'Game',
        './examples/ZeppelinGame.html',
        'This example implements a single player game planar',
        './examples/assets/img/mosaic/ZeppelinGame.png'
      );

      addProjectElement(
        'Drag and Drop Avatar',
        'Game',
        './examples/DragAndDropAvatar.html',
        'This example allow to drag and drop an avatar on city',
        './examples/assets/img/mosaic/Drag_and_Drop_Avatar.png'
      );

      addProjectElement(
        'Multi Player Note Game',
        'Game',
        './examples/MultiPlanarProcess.html',
        'This example allow to share note in city',
        './examples/assets/img/mosaic/Note_Game.png'
      );

      addProjectElement(
        'Authentification',
        'Widget',
        './examples/Authentification.html',
        'This example illustrate the authentication widget',
        './examples/assets/img/mosaic/AuthentificationWidget.png'
      );

      addProjectElement(
        'Guided tour',
        'Widget',
        './examples/GuidedTour.html',
        'This example illustrate the guided tour widget',
        './examples/assets/img/mosaic/Note_Game.png'
      );

      addProjectElement(
        'Window',
        'GUI',
        './examples/Window.html',
        'This example illustrate the gui element window',
        './examples/assets/img/mosaic/Window.png'
      );
    </script>
  </body>
</html>
